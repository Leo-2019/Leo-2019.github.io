<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo Next 优化配置</title>
    <url>/2025/11/20/Hexo/</url>
    <content><![CDATA[<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251116154812165.png" width="50%" alt="按宽度比例缩放">

<blockquote class="blockquote-center">
Hexo Next 的优化或配置方法。
</blockquote>

<span id="more"></span>


<div class="link-grid"><div class="link-grid-container">
<object class="link-grid-image" data="/images/apple-touch-icon-next.png"></object>
<p>Theme NexT</p><p>Stay Simple. Stay NexT.</p>
<a href="https://theme-next.js.org/"></a>
</div></div>

<h2 id="⏩-取消特定页面的评论区"><a href="#⏩-取消特定页面的评论区" class="headerlink" title="⏩ 取消特定页面的评论区"></a>⏩ 取消特定页面的评论区</h2><p>当安装了评论功能后，基本上所有页面都会有评论区，如果我们需要关掉某些页面（如标签页，分类页面，个人介绍页面）的评论区，可以在页面顶部的添加一行配置项。</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2025-11-09 23:11:17</span><br><span class="line">type: categories</span><br><span class="line"><span class="section">comments: false   #关闭评论</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

<h2 id="⏩-特制化初始页面模板"><a href="#⏩-特制化初始页面模板" class="headerlink" title="⏩ 特制化初始页面模板"></a>⏩ 特制化初始页面模板</h2><p>通过 <mark class="label danger"> hexo new</mark> 创建新的博文时，页面初始化状态较为简单，如果想做一些个性化设置，可以直接在 <mark class="label danger"> <em>\scaffolds\page.md</em></mark> 路径下 的 <mark class="label danger"> <strong>page.md</strong></mark> 里进行模板修改。</p>
<hr>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Next 文章实现禁止复制</title>
    <url>/2025/11/10/Dont_copy/</url>
    <content><![CDATA[<blockquote class="blockquote-center">
为了更好的保护个人博文创作，可以通过设置，在 Hexo Next 主题中禁止文章文本复制，可通过添加 CSS 和 JavaScript 代码实现，既能阻止选中和复制文本，又能灵活保留必要功能（如代码块复制）。
</blockquote>
<span id="more"></span>

<h2 id="方法：全局禁止文本复制（保留代码块可复制）"><a href="#方法：全局禁止文本复制（保留代码块可复制）" class="headerlink" title="方法：全局禁止文本复制（保留代码块可复制）"></a>方法：全局禁止文本复制（保留代码块可复制）</h2><h3 id="1-添加自定义-CSS（禁止文本选中）"><a href="#1-添加自定义-CSS（禁止文本选中）" class="headerlink" title="1. 添加自定义 CSS（禁止文本选中）"></a>1. 添加自定义 CSS（禁止文本选中）</h3><p>进入主题的自定义 CSS 文件（路径：themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_custom&#x2F;custom.styl），添加以下代码：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">/* 禁止文章内容文本被选中（不影响代码块） <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">.post-body &#123;</span></span><br><span class="line"><span class="emphasis">  user-select: none; /*</span> 标准属性 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">  -webkit-user-select: none; /*</span> Chrome/Safari <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">  -moz-user-select: none; /*</span> Firefox <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">  -ms-user-select: none; /*</span> IE/Edge <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">/*</span> 允许代码块选中复制（如果需要） <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">.post-body pre,</span></span><br><span class="line"><span class="emphasis">.post-body code &#123;</span></span><br><span class="line"><span class="emphasis">  user-select: text !important; /*</span> 覆盖禁止选中，允许代码块复制 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br></pre></td></tr></table></figure>

<p>作用：user-select: none 会禁止文章正文文本被鼠标选中（无法选中则无法复制），但通过 !important 保留了代码块的选中权限。</p>
<h3 id="2-添加-JavaScript（拦截复制事件）"><a href="#2-添加-JavaScript（拦截复制事件）" class="headerlink" title="2. 添加 JavaScript（拦截复制事件）"></a>2. 添加 JavaScript（拦截复制事件）</h3><p>为进一步阻止通过快捷键（如 Ctrl+C）或右键菜单复制，需添加 JS 拦截：<br>在 themes&#x2F;next&#x2F;source&#x2F;js&#x2F; 目录下新建 disable-copy.js，内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 等待页面加载完成</span><br><span class="line">document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span><br><span class="line">  // 获取文章内容容器（根据主题版本调整选择器，Next 通常为 .post-body）</span><br><span class="line">  const postContent = document.querySelector(&#x27;.post-body&#x27;);</span><br><span class="line">  if (!postContent) return;</span><br><span class="line"></span><br><span class="line">  // 拦截右键菜单（避免右键复制）</span><br><span class="line">  postContent.addEventListener(&#x27;contextmenu&#x27;, function(e) &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 拦截快捷键复制（Ctrl+C / Cmd+C）</span><br><span class="line">  postContent.addEventListener(&#x27;keydown&#x27;, function(e) &#123;</span><br><span class="line">    if ((e.ctrlKey || e.metaKey) &amp;&amp; e.key === &#x27;c&#x27;) &#123;</span><br><span class="line">      e.preventDefault();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在主题布局中引入该 JS 文件：打开 themes&#x2F;next&#x2F;layout&#x2F;_layout.njk（或 _layout.swig，取决于 Next 版本），在 </body> 标签前添加：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/disable-copy.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="3-生效与验证"><a href="#3-生效与验证" class="headerlink" title="3. 生效与验证"></a>3. 生效与验证</h3><p>执行命令重启服务：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">bash</span><br><span class="line">hexo clean &amp;&amp; hexo server</span><br></pre></td></tr></table></figure>
<p>打开任意文章测试：</p>
<ul>
<li>鼠标选中正文文本 → 无法选中（或选中无反应）。</li>
<li>按 Ctrl+C 复制选中内容 → 无效。</li>
<li>右键点击正文 → 无复制菜单。</li>
<li>代码块(</pre> 或 </code> 标签内)→ 可正常选中复制（若保留了代码块权限）。</li>
</ul>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p>仅禁止部分页面：若只想禁止文章页复制，可在 JS 中判断当前页面路径（如 if (window.location.pathname.includes(‘&#x2F;posts&#x2F;‘)) { … }）。<br>    完全禁止所有复制：删除 CSS 中代码块的 user-select: text 配置，即可连代码块一起禁止。<br>兼容性：该方法适配 Next 主题主流版本（v7&#x2F;v8&#x2F;v9），若选择器（如 .post-body）无效，可通过浏览器开发者工具（F12）查看文章容器的实际类名并替换。通过 CSS 禁止选中 + JS 拦截事件，能有效阻止大部分复制行为，同时兼顾灵活性。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo Markdown 特殊语法整理</title>
    <url>/2025/11/15/Markdown/</url>
    <content><![CDATA[<blockquote class="blockquote-center">
一些复杂的Mardown 语法。
</blockquote>

<span id="more"></span>

<h3 id="⏩-网页链接特殊形式"><a href="#⏩-网页链接特殊形式" class="headerlink" title="⏩ 网页链接特殊形式"></a>⏩ 网页链接特殊形式</h3><div class="link-grid"><div class="link-grid-container">
<object class="link-grid-image" data="/images/apple-touch-icon-next.png"></object>
<p>Theme NexT</p><p>Stay Simple. Stay NexT.</p>
<a href="https://theme-next.js.org/"></a>
</div><div class="link-grid-container">
<object class="link-grid-image" data="/images/apple-touch-icon-next.png"></object>
<p>Theme NexT</p><p>Stay Simple. Stay NexT.</p>
<a href="https://theme-next.js.org/"></a>
</div></div>

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% lg [image] [delimiter] [comment] %&#125;</span><br><span class="line">&#123;% endlg %&#125;</span><br><span class="line">[image]：可选参数。默认图片网址。</span><br><span class="line">[delimiter]：可选参数。如果给出可选分隔符参数，则将其解释为每行中项的分隔符。</span><br><span class="line">[comment]：可选参数。如果给出了可选的注释参数，则将其解释为注释行的符号。</span><br><span class="line">eg.</span><br><span class="line">&#123;% lg /images/apple-touch-icon-next.png , %&#125;</span><br><span class="line">Theme NexT , https://theme-next.js.org/ , Stay Simple. Stay NexT. , /images/apple-touch-icon-next.png</span><br><span class="line">Theme NexT , https://theme-next.js.org/ , Stay Simple. Stay NexT. , /images/apple-touch-icon-next.png</span><br><span class="line">Theme NexT , https://theme-next.js.org/ , Stay Simple. Stay NexT. , /images/apple-touch-icon-next.png</span><br><span class="line">% Theme NexT , https://theme-next.js.org/ , Stay Simple. Stay NexT. , /images/apple-touch-icon-next.png</span><br><span class="line">&#123;% endlg %&#125;</span><br></pre></td></tr></table></figure>

<h3 id="⏩-文字样式优化"><a href="#⏩-文字样式优化" class="headerlink" title="⏩ 文字样式优化"></a>⏩ 文字样式优化</h3><p style="
  text-align: center; /* 居中 */
  color: #d32f2f; /* 颜色（深红色） */
  font-weight: bold; /* 加粗 */
  font-family: 'STKaiti', 'KaiTi', cursive; /* 字体（楷体优先） */
">
  这段文本：居中显示 + 红色 + 加粗 + 楷体
</p>

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">  text-align: center; /* 居中 */</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">  color: #d32f2f; /* 颜色（深红色） */</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">  font-weight: bold; /* 加粗 */</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">  font-family: &#x27;STKaiti&#x27;, &#x27;KaiTi&#x27;, cursive; /* 字体（楷体优先） */</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">&quot;</span>&gt;</span></span></span><br><span class="line">  这段文本：居中显示 + 红色 + 加粗 + 楷体</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>


<h3 id="⏩图片插入"><a href="#⏩图片插入" class="headerlink" title="⏩图片插入"></a>⏩图片插入</h3><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251115205846524.jpg" width="50%" alt="按宽度比例缩放">

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;img-center&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251115205846524.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;50%&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;按宽度比例缩放&quot;</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="⏩fontAwesom-图标基本使用"><a href="#⏩fontAwesom-图标基本使用" class="headerlink" title="⏩fontAwesom 图标基本使用"></a>⏩fontAwesom 图标基本使用</h3><div class="quote-block">
  <i class="far fa-envelope"></i> 盖茨比相信绿灯。。。。。
</div>

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;quote-block&quot;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;far fa-envelope&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> 盖茨比相信绿灯。。。。。</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="⏩居中引用"><a href="#⏩居中引用" class="headerlink" title="⏩居中引用"></a>⏩居中引用</h3><p>方法1：</p>
<blockquote class="blockquote-center">
<p>引用文字 </p>

</blockquote>

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% cq %&#125; 引用文字 &#123;% endcq %&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这个是NEXT 主题自带的样式，但文字只能中心对齐。要改成两边对齐或左对齐比较麻烦。</p>
</blockquote>
<p>方法2：</p>
<div class="tabs" id="复杂写法"><ul class="nav-tabs"><li class="tab active"><a href="#复杂写法-1">1号Tab</a></li><li class="tab"><a href="#复杂写法-2">2号Tab</a></li><li class="tab"><a href="#复杂写法-3">3号Tab</a></li></ul><div class="tab-content"><div class="tab-pane active" id="复杂写法-1"><div class="quote-block">
  <i class="fas fa-quote-left fa-pull-left fa-2x"></i>
    盖茨比相信绿灯，一个年复一年在我们面前消退的极乐未来。那时它躲过了我们，但这没关系——明天我们会跑得更快，把我们的手臂伸得更远……在一个晴朗的早晨——所以我们继续前进，逆水行舟，不断地回到过去。
  <i class="fas fa-quote-right fa-pull-right fa-2x"></i>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;quote-block&quot;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-quote-left fa-pull-left fa-2x&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="code">    盖茨比相信绿灯，一个年复一年在我们面前消退的极乐未来。那时它躲过了我们，但这没关系——明天我们会跑得更快，把我们的手臂伸得更远……在一个晴朗的早晨——所以我们继续前进，逆水行舟，不断地回到过去。</span></span><br><span class="line"><span class="code">  &lt;i class=&quot;fas fa-quote-right fa-pull-right fa-2x&quot;&gt;&lt;/i&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="复杂写法-2"><div class="quote-block">
  <i class="fas fa-quote-left fa-2x"></i>
    盖茨比相信绿灯，一个年复一年在我们面前消退的极乐未来。那时它躲过了我们，但这没关系——明天我们会跑得更快，把我们的手臂伸得更远……在一个晴朗的早晨——所以我们继续前进，逆水行舟，不断地回到过去。
  <i class="fas fa-quote-right fa-2x"></i>
</div>

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;quote-block&quot;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-quote-left fa-2x&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="code">    盖茨比相信绿灯，一个年复一年在我们面前消退的极乐未来。那时它躲过了我们，但这没关系——明天我们会跑得更快，把我们的手臂伸得更远……在一个晴朗的早晨——所以我们继续前进，逆水行舟，不断地回到过去。</span></span><br><span class="line"><span class="code">  &lt;i class=&quot;fas fa-quote-right fa-2x&quot;&gt;&lt;/i&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="复杂写法-3"><div class="quote-block">
  <!-- 左引号：设置为深蓝色 -->
  <i class="fas fa-quote-left fa-2x" style="color: #6f42c1;"></i>
    盖茨比相信绿灯，一个年复一年在我们面前消退的极乐未来。那时它躲过了我们，但这没关系——明天我们会跑得更快，把我们的手臂伸得更远……在一个晴朗的早晨——所以我们继续前进，逆水行舟，不断地回到过去。
  <!-- 右引号：设置为灰色 -->
  <i class="fas fa-quote-right fa-2x" style="color: #6f42c1;"></i>
</div>

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;quote-block&quot;</span>&gt;</span></span></span><br><span class="line">  &lt;!-- 左引号：设置为深蓝色 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-quote-left fa-2x&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: #6f42c1;&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="code">    盖茨比相信绿灯，一个年复一年在我们面前消退的极乐未来。那时它躲过了我们，但这没关系——明天我们会跑得更快，把我们的手臂伸得更远……在一个晴朗的早晨——所以我们继续前进，逆水行舟，不断地回到过去。</span></span><br><span class="line"><span class="code">  &lt;!-- 右引号：设置为灰色 --&gt;</span></span><br><span class="line"><span class="code">  &lt;i class=&quot;fas fa-quote-right fa-2x&quot; style=&quot;color: #6f42c1;&quot;&gt;&lt;/i&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></div></div></div>





<h2 id="⏩彩色-Tags"><a href="#⏩彩色-Tags" class="headerlink" title="⏩彩色 Tags"></a>⏩彩色 Tags</h2><p>效果：</p>
<mark class="label default"> default</mark> 
<mark class="label primary"> primary</mark> 
<mark class="label success"> success</mark> 
<mark class="label info"> info</mark> 
<mark class="label warning"> warning</mark> 
<mark class="label danger"> danger</mark> 
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% label [class] @ 标签内容 %&#125;</span><br><span class="line"></span><br><span class="line">class：</span><br><span class="line"><span class="bullet"> -</span> default: 浅灰色,可留空</span><br><span class="line"><span class="bullet"> -</span> primary: 浅紫色</span><br><span class="line"><span class="bullet"> -</span> success: 浅绿色</span><br><span class="line"><span class="bullet"> -</span> info: 浅蓝色</span><br><span class="line"><span class="bullet"> -</span> warning: 浅黄色</span><br><span class="line"><span class="bullet"> -</span> danger: 浅红色</span><br></pre></td></tr></table></figure>



<h2 id="⏩彩色-Note"><a href="#⏩彩色-Note" class="headerlink" title="⏩彩色 Note"></a>⏩彩色 Note</h2><p>效果：</p>
<div class="note success"><p>内容</p>
</div>

<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;% note [class]%&#125; </span><br><span class="line">内容</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">class: </span><br><span class="line"><span class="bullet"> -</span> default: 灰色</span><br><span class="line"><span class="bullet"> -</span> primary: 紫色</span><br><span class="line"><span class="bullet"> -</span> success: 绿色</span><br><span class="line"><span class="bullet"> -</span> info: 蓝色</span><br><span class="line"><span class="bullet"> -</span> warning: 黄色</span><br><span class="line"><span class="bullet"> -</span> danger: 红色</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<details class="note primary"><summary><p>点这里</p>
</summary>
<h4 id="另一种用法"><a href="#另一种用法" class="headerlink" title="另一种用法"></a>另一种用法</h4><p>Note with summary: <code>以下是具体方法</code></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note primary 看这里 %&#125;</span><br><span class="line"><span class="section">#### 另一种用法</span></span><br><span class="line">Note with summary: <span class="code">`以下是具体方法`</span></span><br><span class="line">内容</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>
</details>

<div class="text-center"><a class="btn" href="https://theme-next.js.org/docs/tag-plugins/note.html?highlight=note" title="官方说明"><i class="fa fa-external-link fa-fw fa-lg"></i>官方说明</a></div>



<h2 id="⏩切换Tabs"><a href="#⏩切换Tabs" class="headerlink" title="⏩切换Tabs"></a>⏩切换Tabs</h2><p>效果：</p>
<div class="tabs" id="[class]"><ul class="nav-tabs"><li class="tab active"><a href="#[class]-1">1号Tab</a></li><li class="tab"><a href="#[class]-2">2号Tab</a></li><li class="tab"><a href="#[class]-3">3号Tab</a></li></ul><div class="tab-content"><div class="tab-pane active" id="[class]-1"><p>这里是1号Tab内容</p></div><div class="tab-pane" id="[class]-2"><p>这里是2号Tab内容</p></div><div class="tab-pane" id="[class]-3"><p>这里是3号Tab内容</p></div></div></div>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;% tabs [Class] %&#125; // Class: 必填项，Tab的全局名称，唯一值，不能带有符号</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 1号Tab--&gt;</span><br><span class="line">这里是1号Tab内容</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 2号Tab--&gt;</span><br><span class="line">这里是2号Tab内容</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 3号Tab--&gt;</span><br><span class="line">这里是3号Tab内容</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="⏩按钮-Btn"><a href="#⏩按钮-Btn" class="headerlink" title="⏩按钮 Btn"></a>⏩按钮 Btn</h2><a class="btn" href="https://theme-next.js.org/docs/tag-plugins/button "><i class="fa fa-external-link fa-lg"></i>官方介绍</a>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% btn [地址] , [内容] , [图标 规格] %&#125;</span><br><span class="line">[地址]：当使用外链绝对引用时，无按钮，样式类似Markdown链接跳转</span><br><span class="line">[图标 规格]: 使用无`fa-`开头的FontAwesome图标，可以用以下规格定义图标大小</span><br><span class="line">fa-fw | fa-lg | fa-2x | fa-3x | fa-4x | fa-5x</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">&#123;% btn https://theme-next.js.org/docs/tag-plugins/button , 官方介绍 , external-link fa-lg %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="⏩图标列表"><a href="#⏩图标列表" class="headerlink" title="⏩图标列表"></a>⏩图标列表</h2><ul class="fa-ul">
  <li><span class="fa-li"><i class="fas fa-check-square"></i></span>List icons can</li>
  <li><span class="fa-li"><i class="fas fa-check-square"></i></span>be used to</li>
  <li><span class="fa-li"><i class="fas fa-spinner fa-pulse"></i></span>replace bullets</li>
  <li><span class="fa-li"><i class="far fa-square"></i></span>in lists</li>
</ul>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;ul class=&quot;fa-ul&quot;&gt;</span><br><span class="line">  &lt;li&gt;&lt;span class=&quot;fa-li&quot;&gt;&lt;i class=&quot;fas fa-check-square&quot;&gt;&lt;/i&gt;&lt;/span&gt;List icons can&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;&lt;span class=&quot;fa-li&quot;&gt;&lt;i class=&quot;fas fa-check-square&quot;&gt;&lt;/i&gt;&lt;/span&gt;be used to&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;&lt;span class=&quot;fa-li&quot;&gt;&lt;i class=&quot;fas fa-spinner fa-pulse&quot;&gt;&lt;/i&gt;&lt;/span&gt;replace bullets&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;&lt;span class=&quot;fa-li&quot;&gt;&lt;i class=&quot;far fa-square&quot;&gt;&lt;/i&gt;&lt;/span&gt;in lists&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 一键召唤🎃：给应用文件 “起名”</title>
    <url>/2025/11/10/Window_quick_start/</url>
    <content><![CDATA[<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251115205846524.jpg" width="70%" alt="按宽度比例缩放">

<blockquote class="blockquote-center">
用 Windows 办公时，你大概率遇到过这种糟心场景：正顺着思路深耕某个问题，突然需要调取一份旧文档佐证想法。可这份文件久未打开，早已忘了藏在哪个层层嵌套的文件夹里，只能鼠标点来点去逐个排查，对着一堆似曾相识的文件名反复确认。等费了半天劲找到并打开，当初要查的核心信息、那灵光一闪的灵感，早就没了踪影。
难道 “找东西” 的时间，只能白白浪费？当然不！能不能给常用的应用、文档、网页都起个好记的 “专属名字”，需要时直接 “呼唤” 名字就能一键打开？经过大量调研、测试和总结，我整理出一套实操方法论，不管是可执行程序、常用文档，还是高频网页，都能实现 “起名 + 召唤” 的高效操作，彻底告别无效查找。
</blockquote>

<span id="more"></span>

<h2 id="一、最终效果"><a href="#一、最终效果" class="headerlink" title="一、最终效果"></a>一、最终效果</h2><p>通过在win+R中输入特定命令(名字)可以打开特定的应用程序、文件夹、文件、网址、系统面板。</p>
<p>eg:</p>
<table>
<thead>
<tr>
<th align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image001.png" alt="image001.png"></th>
<th align="center">👉</th>
<th align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image002.png" alt="image002.png"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image003.png" alt="image003.png"></td>
<td align="center">👉</td>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image004.png" alt="image004.png"></td>
</tr>
<tr>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image005.png" alt="image005.png"></td>
<td align="center">👉</td>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image006.png" alt="image006.png"></td>
</tr>
<tr>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image007.png" alt="image007.png"></td>
<td align="center">👉</td>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image008.png" alt="image008.png"></td>
</tr>
<tr>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image009.png" alt="image009.png"></td>
<td align="center">👉</td>
<td align="center"><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image010.png" alt="image010.png"></td>
</tr>
</tbody></table>
<h2 id="二、原理："><a href="#二、原理：" class="headerlink" title="二、原理："></a>二、原理：</h2><p>将快捷方式放入系统环境变量路径下，通过Win+R输入命令打开APP、文件、文件夹或网页。</p>
<h2 id="三、配置："><a href="#三、配置：" class="headerlink" title="三、配置："></a>三、配置：</h2><h3 id="1-文件、应用程序"><a href="#1-文件、应用程序" class="headerlink" title="1.文件、应用程序"></a>1.文件、应用程序</h3><p>1.在桌面上<strong>创建一个文件夹</strong>winr；</p>
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image011.png" width="50%" alt="按宽度比例缩放">

<p>2.将需要快捷打开的文件、文件夹、应用程序<strong>创建桌面快捷方式，并移入此文件夹</strong>；<br>3.<strong>更改快捷方式名称</strong>，更改后的名字就是后续在win+r命令框中应该输入的命令。</p>
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image012.png" width="50%" alt="按宽度比例缩放">

<p>4.将文件夹放在某个文件路径下。（路径随意，只要是在本地就行）</p>
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image013.png" width="50%" alt="按宽度比例缩放">

<p>5.将文件夹路径添加到系统路径中；</p>
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image014.png" width="50%" alt="按宽度比例缩放">

<h3 id="2-文件夹"><a href="#2-文件夹" class="headerlink" title="2.文件夹"></a>2.文件夹</h3><p>1.访问具体路径的文件夹<br>直接在win+r打开的启动框内输入绝对路径。</p>
<p>2.访问特殊固定的路径也就是经常打开的文件夹<br>和文件或APP的快捷访问的配置操作类似。只需把特定文件夹的快捷方式重命名并放入系统路径下（即上文winr文件夹中）。</p>
<h3 id="3-网页"><a href="#3-网页" class="headerlink" title="3.网页"></a>3.网页</h3><p>1.找到网页的启动程序，创建桌面快捷方式；</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image015.png" alt="image015.png"></p>
<p>2.修改快捷方式的配置。</p>
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image016.png" width="40%" alt="按宽度比例缩放">

<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image017.png" width="40%" alt="按宽度比例缩放">

<p>3.重命名快捷方式并放入上文提到的“winr”文件夹中。</p>
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image018.png" width="100%" alt="按宽度比例缩放">

<h3 id="4-系统面板"><a href="#4-系统面板" class="headerlink" title="4.系统面板"></a>4.系统面板</h3><p>1.在网上查找对应系统面板的启动程序的名字和位置。（一般都在C:\Windows\System32路径下）如下图所示：</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image019.png" alt="image019.png"></p>
<p>2.找到对应启动程序右击–&gt;send to–&gt;Desktop(create shortcut)创建桌面快捷方式并重命名。</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image020.png" alt="image020.png"></p>
<p>3.将此快捷方式移入上文提到的winr文件夹中。</p>
<h2 id="四、管理（可选）："><a href="#四、管理（可选）：" class="headerlink" title="四、管理（可选）："></a>四、管理（可选）：</h2><p>为了方便我们后续的日常使用，忘记指令时，需要对指令进行查询，所以管理自己定义的这些快捷指令是非常有好处的。当然针对每个人有每个人管理的方法，但目的是为了在我们忘记命令时可以快速查找。我的管理方法是通过维护一个包含指令和对应具体动作的TXT文档来更新记录或查询。</p>
<p>1.新建一个name.txt文档,放在上述winr文件夹中。</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image021.png" alt="image021.png"></p>
<p>2.在文档中添加命令信息。我在文档中说明了如何新加命令，命令的规则，和具体命令的详细信息。<br>需要说明的是自定义的命令要与windows的系统命令不冲突，我采取的方法是不同类型的命令以不同符号开头。</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image022.png" alt="image022.png"></p>
<p>我将命令分为四种：文档、文件、app、网页、系统面板 。分别进行记录，其中文件必须注明文件所在的位置，防止后面忘记位置后，只能打开不能进行其他操作的尴尬。以下是我的记录内容，仅供参考。</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image023.png" alt="image023.png"></p>
<p>3.为了方便管理和调取name.txt文件进行查询和更新，可以在winr文件夹内创建name.txt的快捷方式，并重命名为name。这样以后就可以直接在win+R中输入name命令进行查询和更新。</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image024.png" alt="image024.png"></p>
<p>4.另外，上述操作中已经将winr文件夹的路径添加到系统路径中了。以后需要看到底有哪些快捷方式和指令时直接win+R输入winr就能打开。</p>
<p>5.为了在电脑中容易辨识出哪些文件夹和文件是可以通过快捷方式启动的，在文件或文件夹的命名时以&amp;或#开头。</p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image025.png" alt="image025.png"></p>
<p><img src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/image026.png" alt="image026.png"></p>
<p>6.为了桌面看起来干净也可以在某个地方创建一个名为#Desktop的文件夹，平时的临时文档尽量放在这里面。并将其按上文提到的文件夹设置为快捷命令启动方式进行设置。解放桌面。</p>
<p><strong>维护管理指令的关键是保证winr文件夹下快捷方式的名称和name.txt中的记录保持一致</strong></p>
<h2 id="五、结尾"><a href="#五、结尾" class="headerlink" title="五、结尾"></a>五、结尾</h2><p>经过上面的配置，但凡你想快速打开的各种文件、文件夹、应用程序、网页、系统面板，你都可以通过敲键盘很快打开，十分装逼。这样便可以将桌面的图标全部清除，看起来桌面也很干净，并且也使自己的电脑只能自己使用，其他人用你的电脑不知道自定义命令会一脸懵逼，增加了电脑的安全性。🎉</p>
<p>通过我总结的这套方法论，即：快捷方式+系统路径+自定义命令管理表。可以快捷启动任何你能想到的东西。自由度非常高，常见的类型基本都可以，毕竟计算机上的任何东西都是程序嘛，也就是.exe，通过快捷方式这种间接寻址的方式将各种文件统一改名字和管理，其实整个过程就我的理解而言Win+R打开的启动框就是一个启动命令，类似将程序计数器指向某个.exe，而咱们的命令就是告诉计算机你去环境变量的系统路径中找以我这个命令命名的的快捷方式文件，而快捷方式文件就相当于指针的间接寻址，告诉计算机对应的.exe的路径在哪，然后让计算机去这个路径下找对应的程序并运行它。</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>工作习惯</tag>
      </tags>
  </entry>
  <entry>
    <title>Cache（二）如何进行数据缓存？</title>
    <url>/2025/11/28/cache2/</url>
    <content><![CDATA[<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129163708522.jpg" width="30%" alt="按宽度比例缩放">


<blockquote class="blockquote-center">
为什么要用缓存? 在互联网还没这么发达的时候，我们想买一样东西，通常会先在附近的便利店去找找有没有卖的，如果没有，我们才会去远一点的百货市场去买，或者让这家便利店进货的时候进一点你需要的东西。我们不会每次想要买东西时都跑那么远去百货市场买，因为来回需要花费很多时间，而你要等待这么长时间后，才能得到这个东西进而去做接下来的事情。所以，我们都会尽量在便利店里找。而便利店想要经营的好，除了要会依据现实情况更新货物还要考虑运输成本。通常他进货会进一些客户需要的东西，如果货架都摆满了，这时他就要淘汰一些很长时间都卖不出去的货物腾空位置摆上新的货物。而且，考虑到运输成本，进货时会一批一批的进而不是一个一个，这需要通过顾客最近需要的货物去预估他可能还需要什么其他相关的物品。把便利店看作一个商品储存仓库相比与百货市场，它的货物容量必然小，很多时候会出现缺货的情况。但它距离顾客最近，且能依据附近顾客的购买情况调整货品。在计算机中，由于CPU（顾客）和主存（百货市场）的频率差距大，所以CPU从主存中取数据相对速度很慢。所以在CPU附近放置一个与CPU频率相差将小，空间较小的缓存cache（便利店）。
在多体交叉存储器中可知，I/O（外设）向主存请求的级别高于CPU访存，这就出现了CPU等待I/O访存的现象，致使CPU空等一段时间，甚至可能等待几个主存周期，从而降低了CPU的工作效率。为了避免CPU与I/O争抢访存，可在CPU与主存之间加一级缓存，这样，主存可将CPU要取的信息提前送至缓存，一旦主存在与I/O交换时，CPU可直接从缓存中读取所需信息，不必空等而影响效率。从另一角度来看，主存速度的提高始终跟不上CPU的发展。据统计CPU的速度平均每年改进60％，而组成主存的动态RAM速度平均每年只改进7％，结果是CPU和动态RAM之间的速度间隙平均每年增大50％。因此也希望由高速缓存Cache来解决主存与CPU的不匹配问题。总的来说，由于要避免CPU与主存（DRAM）的速度差异引起的CPU"空等"的现象，配置cache减少访问内存的平均时间。
能够通过cache减少平均访问时间的一个必要条件是程序访问具有局部性，局部性原理分为时间局部性（现在用的，随后可能也要用），空间局部性（用完当前位置的数据，随后可能要用到这附近的数据）。数据访问的局部性原理使cache的实现成为可能。
</blockquote>

<span id="more"></span>

<h2 id="一、Cache-原理"><a href="#一、Cache-原理" class="headerlink" title="一、Cache 原理"></a>一、Cache 原理</h2><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129145600930.png" width="70%" alt="按宽度比例缩放">

<ul>
<li>映射机构：解决 主存的块可以放到缓存哪些块当中。即主存地址向缓存地址的转换模块</li>
<li>替换机构：决定了主存当中的一个块能替换Cache当中哪一个块，并如何替换。</li>
</ul>
<h3 id="1-数据更新策略："><a href="#1-数据更新策略：" class="headerlink" title="1. 数据更新策略："></a>1. 数据更新策略：</h3><h4 id="1-1-CPU读"><a href="#1-1-CPU读" class="headerlink" title="1.1 CPU读"></a>1.1 CPU读</h4><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129145828455.jpg" width="50%" alt="按宽度比例缩放">


<h4 id="1-2-CPU写"><a href="#1-2-CPU写" class="headerlink" title="1.2 CPU写"></a>1.2 CPU写</h4><div class="note success"><p><strong>cache命中–hit</strong></p>
</div>

<p><strong>写回（write back ）</strong></p>
<p>我们只更新cache中的数据。只有在一个cache行被选中替换回主存时，如果cache行的数据是修改过的，才将它写回主存。这种策略，要在Cache中设置一个脏位（dirty bit），用来表示缓存中的cache行是否被修改过。如果一个内存块在加载到Cache后未被修改过，Cache直接把该cache行设置为无效。不需要把数据写回主存，这样可以有效降低从Cache到主存的写次数。但会存在一段cache和主存的数据不一致的时间，若在此时间内，其他设备访问主存，则访问的数据不是最新的数据。</p>
<p><strong>写通（write through）：</strong></p>
<p>每当Cache收到写数据（store）指令时，若写命中，则CPU会同时将数据写到Cache和主存。</p>
<div class="note success"><p><strong>cache不命中–miss</strong></p>
</div>

<p><strong>写分配（write allocate）:</strong></p>
<p>[1]. 先写数据到主存或下一级cache，并从主存或下一级cache读取刚才修改过的数据，即：先写数据，再为所写数据分配cache line；</p>
<p>[2]. 先分配cache line给所写数据，即：从主存中读取一行数据到cache，然后直接对cache进行修改，并不把数据到写到主存或下一级cache，一直等到该行被替换出去，才写数据到主存或下一级cache。</p>
<p><strong>写不分配（not write allocate）：</strong></p>
<p>直接写数据到主存或下一级cache，并且不从主存或下一级cache中读取被改写的数据，即：不分配cache line给被修改的数据。</p>
<p>[1]. 前一种保持了cache&#x2F;主存的一致性，但操作复杂，而后一种方法操作简化，但命中率降低，内存的修改块只有在读未命中对cache 进行替换时，才有可能映射到cache 。</p>
<p>[2]. 通常，写通搭配写不分配；写回搭配写分配(重要模型)。</p>
<h3 id="2-内存映射策略："><a href="#2-内存映射策略：" class="headerlink" title="2. 内存映射策略："></a>2. 内存映射策略：</h3><p>映射机构要完成主存地址向缓存地址的转换，明确主存中的存储块应该放在cache中的位置。就需要制定一个（映射）规则约定好哪的主存块放到哪个cache块（cacheline）中。</p>
<h4 id="2-1-直接映射"><a href="#2-1-直接映射" class="headerlink" title="2.1 直接映射"></a>2.1 直接映射</h4><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129150309023.jpg" width="50%" alt="按宽度比例缩放">

<h5 id="映射方法"><a href="#映射方法" class="headerlink" title="映射方法"></a>映射方法</h5><p>将主存按照cache的大小进行分区（为了理解概念上这样想），每个区的第一个块放在cache的第一个块（cacheline）中，依次主存各区的第n块放在cache的第n块中。这种每个区的直接映射方式规定每个主存中的内存块在cache的位置有且只有一个。若程序反复交替访问字块0和字块2c,则会出现cache频繁更换cacheline0里的数据（cache抖动，详见《深入理解计算机系统》P431），若其他cacheline中空闲，则cache的利用率就不高。</p>
<h5 id="映射过程"><a href="#映射过程" class="headerlink" title="映射过程"></a>映射过程</h5><div class="note danger"><p><strong>1.CPU访问主存的时候，应该去cache中的哪个地方找相应的内容呢？</strong></p>
</div>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">主存地址 = cache块内地址(低) + Cacheline号(中) + 标记(高)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>要使用的数据在主存中存在一个地址，将这个主存地址的最低几位来对应cacheline中的地址（即这个数据放在对应cacheline的第几个字节上），再将中间几位拿出来让其对应缓存中的cacheline编号（即这个数据应该放在第几个cacheline中），最后为了让主存字块与cacheline一一对应，则将主存地址剩余的最高几位随着数据一起写入cache分组中。据此，CUP就可以通过数据在缓存中的位置加上主存地址剩余最高几位的地址数据（对应主存分区）作为标记，推算出其在主存中的唯一地址。</p>
<div class="note danger"><p><strong>2.CPU访问主存的时候，应该怎么去cache中的相应地方找主存中数据呢？</strong></p>
</div>
<p>(1). 组选择<br>如果约定好采用直接映射，CPU想要访问主存，肯定必然知道访问的内存在主存中的地址(m位)，当然芯片生产好后，cache的结构也已经定下来了，所以也知道cache的大小和缓存组的大小（假设知道了cache中有2的s次方个缓存组或cacheline），所以，给各个缓存组进行索引编号需要s个二进制位。如下图所示，如果主存地址中表示缓存组索引的s位为00001&#x3D;1，则将具有这样地址特征的主存字块都放到cache的缓存组1中去。<br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129160306219.png" width="50%" alt="按宽度比例缩放"></p>
<p>(2). 行匹配<br>按上面组选择所说，具有中间s位为00001这样特征的主存地址有很多，每个主存分区中都会出现一个。仅凭此，CPU操作缓存中数据时并不能确定到底是在操作主存中哪一个字块。为了能将这种多对一的对应转化为一对一，需要知道缓存字块表示的主存字块其所在分区的信息，而这个信息有蕴含在主存地址的高位，上面说过，主存地址的高位作为标记会随数据一起写入缓存组中，所以，CPU只要通过标记就可以确定当前访问的缓存字块到底是哪个主存分区的哪个字块了。<br>如下图所示，在主存地址中通过组索引找到cache中对应选择的组，然后通过高t位中的地址与缓存组中的标记进行对比，若一致则表示两者对应，若不一致则表示缓存组中的数据为其他主存分区对应字块的内容。当然这个过程必须保证数据有效及有效位为1。<br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129151725915.png" width="50%" alt="按宽度比例缩放"></p>
<p>(3). 字抽取<br>另外也知道cacheline的大小（即知道一个高速缓存块（cacheline）里能存放多少个字节的数据），那么在这个cacheline里寻找其中一个特定的主存字节数据，通过编址索引的方式就需要b位快偏移地址（若cacheline大小&#x3D;2的b次方）。如上图所示，当主存地址的最低b位为100时就将此字节的数据放入cache中对应cacheline的对应第4个字节中去。</p>
<h4 id="2-2-全相联映射"><a href="#2-2-全相联映射" class="headerlink" title="2.2 全相联映射"></a>2.2 全相联映射</h4><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129151648233.jpg" width="50%" alt="按宽度比例缩放">



<h5 id="映射方法-1"><a href="#映射方法-1" class="headerlink" title="映射方法"></a>映射方法</h5><p>为了减少直接相连的cache抖动问题，全相联在将主存字块放入cache的缓存组时可以任意放置。但这时在直接相连中的组索引就要并入高位一起作为标记存入cache中用来判别缓存字块对应的主存字块。虽然此种方法可以减少抖动，但当CPU在cache中访问主存数据时要与cache中全部字块的标记进行比较（缓存字块位置不包含主存地址信息），而直接相连只需与一个字块进行一次比较（缓存字块位置包含主存地址信息）。因此，虽然这种方法使Cache的利用率高，块冲突概率低，但也存在速度低，成本高的问题。</p>
<h5 id="映射过程-1"><a href="#映射过程-1" class="headerlink" title="映射过程"></a>映射过程</h5><p>通过主存地址除低b位外的剩余地址在cache中的各个字块中与地址标记进行对比，确定对应缓存字块的位置。<br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129151725915.png" width="50%" alt="按宽度比例缩放"></p>
<h4 id="2-3-组相联映射"><a href="#2-3-组相联映射" class="headerlink" title="2.3 组相联映射"></a>2.3 组相联映射</h4><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129151759220.jpg" width="50%" alt="按宽度比例缩放">

<p>【映射方法】</p>
<p>组间直接映射，组内全相联映射</p>
<p>将主存按照cache的大小进行分区（为了理解概念上这样想）；将缓存分组，每个分组中包含若干个字块加标记的组合（即一个缓存组可以存放若干个主存字块，几路组相连就是一组放几个字块）。每个主存分区的第一个块都可以放在cache的第一个组中，依次主存各区的第n块放在cache的第n组中，组内可以放两个位置，一定程度的减小抖动。</p>
<p>【映射过程】<br>(1).组选择<br>与直接相连映射的组选择类似，通过m位主存地址中的中间s位与cache中的缓存组相对应。<br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129151818805.png" width="60%" alt="按宽度比例缩放"></p>
<p>(2).行匹配<br>如上图所示，两路组相连映射的行匹配与直接映射不同的是标记位的匹配检验需要做两次（即在对应组的两个字块中找对应字块）。</p>
  <div class="note danger"><p><strong>这里存在一个问题：主存字块到底应该放在对应缓存组中的哪个字块中？</strong>
  </p>
</div>

<p>组内有多个空闲字块时随机选择；组内没有空闲字块时按照替换策略进行。常用的替换策略为最近最少使用策略LRU:替换最后一次方位时间最久远的字块（cacheline）。</p>
<p>(3).字抽取<br>与直接相连完全相同。</p>
<h2 id="二、cache友好的代码编写"><a href="#二、cache友好的代码编写" class="headerlink" title="二、cache友好的代码编写"></a>二、cache友好的代码编写</h2><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129152148068.jpg" width="60%" alt="按宽度比例缩放">


<hr>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Cache（一）什么是缓存？</title>
    <url>/2025/11/25/cache1/</url>
    <content><![CDATA[<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129163710829.png" width="50%" alt="按宽度比例缩放">

<blockquote class="blockquote-center">
什么是缓存? Cache是高速缓冲存储器，是位于CPU与主内存间的一种容量较小但速度很高的存储器。由于CPU的速度远高于主存，CPU直接从外存中读取数据要等待一定时间周期，Cache中保存着CPU刚用过或循环使用的一部分数据，当CPU再次使用该部分数据时可从Cache中直接调用,这样就减少了CPU的等待时间,提高了系统的效率。但是，cache中数据与.MC中数据的同步是一个关键，否则为会读写错误。

</blockquote>

<span id="more"></span>

<h2 id="一、存储器的存储结构"><a href="#一、存储器的存储结构" class="headerlink" title="一、存储器的存储结构"></a>一、存储器的存储结构</h2><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129154449544.jpg" width="70%" alt="按宽度比例缩放">

<p>存储结构综述<br>（1）cpu只能和主存，cache进行数据交互，而不能直接获得辅存的数据<br>（2）辅存的数据只能调入主存，不能直接进入缓存中。<br>（3）辅存到主存的映射是由OS操作系统管理的。但是主存和辅存之间的一个映射关系被放到TLB中，TLB在cache中。<br>（4）虚拟存储中的页表，段表，段页表被放到了主存中。cpu通过页表访问辅存时，发现缺页中断，就会先暂停程序的执行，先把数据调到内存。</p>
<h2 id="二、一致性协议（Coherency-protocols）"><a href="#二、一致性协议（Coherency-protocols）" class="headerlink" title="二、一致性协议（Coherency protocols）"></a>二、一致性协议（Coherency protocols）</h2><p>Cache的不一致：内存数据拿到CPU Cache 之后，在后面的操作过程中，CPU Cache 里的值和内存中可能是不一样的。</p>
<p><strong>【核心问题】只要系统只有一个CPU核在工作，一切都没问题。如果有多个核，每个核又都有自己的缓存，那么我们就遇到问题了：如果某个CPU缓存段中对应的内存内容被另外一个CPU偷偷改了，会发生什么？</strong></p>
<p>好吧，答案很简单：什么也不会发生。这很糟糕。因为如果一个CPU缓存了某块内存，那么在其他CPU修改这块内存的时候，我们希望得到通知。我们拥有多组缓存的时候，真的需要它们保持同步。或者说，系统的内存在各个CPU之间无法做到与生俱来的同步，我们实际上是需要一个大家都能遵守的方法来达到同步的目的。<br>注意，这个问题的根源是我们拥有多组缓存，而不是多个CPU核。我们也可以这样解决问题，让多个CPU核共用一组缓存：也就是说只有一块一级缓存，所有处理器都必须共用它。在每一个指令周期，只有一个幸运的CPU能通过一级缓存做内存操作，运行它的指令。<br>这本身没问题。唯一的问题就是太慢了，因为这下处理器的时间都花在排队等待使用一级缓存了（并且处理器会做大量的这种操作，至少每个读写指令都要做一次）。我指出这一点是因为它表明了问题不是由多核引起的，而是由多缓存引起的。我们知道了只有一组缓存也能工作，只是太慢了，接下来最好就是能做到：使用多组缓存，但使它们的行为看起来就像只有一组缓存那样。缓存一致性协议就是为了做到这一点而设计的。就像名称所暗示的那样，这类协议就是要使多组缓存的内容保持一致。<br>缓存一致性协议有多种，但是你日常处理的大多数计算机设备使用的都属于“窥探（snooping）”协议，这也是我这里要讲的。（还有一种叫“基于目录的（directory-based）”协议，这种协议的延迟性较大，但是在拥有很多个处理器的系统中，它有更好的可扩展性。）<br>“窥探”背后的基本思想是，所有内存传输都发生在一条共享的总线上，而所有的处理器都能看到这条总线：缓存本身是独立的，但是内存是共享资源，所有的内存访问都要经过仲裁（arbitrate）：同一个指令周期中，只有一个缓存可以读写内存。窥探协议的思想是，缓存不仅仅在做内存传输的时候才和总线打交道，而是不停地在窥探总线上发生的数据交换，跟踪其他缓存在做什么。所以当一个缓存代表它所属的处理器去读写内存时，其他处理器都会得到通知，它们以此来使自己的缓存保持同步。只要某个处理器一写内存，其他处理器马上就知道这块内存在它们自己的缓存中对应的段已经失效。</p>
<h2 id="三、读写一致性"><a href="#三、读写一致性" class="headerlink" title="三、读写一致性"></a>三、读写一致性</h2><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129162551520.jpg" width="50%" alt="按宽度比例缩放">

<p>Cache是高速缓冲存储器，是位于CPU与主内存间的一种容量较小但速度很高的存储器。由于CPU的速度远高于主存，CPU直接从外存中读取数据要等待一定时间周期，Cache中保存着CPU刚用过或循环使用的一部分数据，当CPU再次使用该部分数据时可从Cache中直接调用,这样就减少了CPU的等待时间,提高了系统的效率。但是，cache中数据与.MC中数据的同步是一个关键，否则为会读写错误。</p>
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129162555004.jpg" width="50%" alt="按宽度比例缩放">

<p>当Core对.MC中的数据进行写操作的时候，如果数据已经在cache中，新的数据会被更新到cache中。当其它核从.MC中读数据的时候，会直接从共享内存中读取相应的内容，如果cache中新的数据未被更新到.MC中，则其它核读取的不是更新后的内容，就会出现Core写一致性的问题。这时也需要用户进行数据维护，进行Wb将cache中的数据回写至.MC再读取。</p>
<hr>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Cache（三）多核处理器TMS320C6678的缓存方法</title>
    <url>/2025/11/29/cache3/</url>
    <content><![CDATA[<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129163708522.jpg" width="30%" alt="按宽度比例缩放">

<blockquote class="blockquote-center">
基于 TI 多核DSP C6678 在数字信号处理中的cache 一致性维护实战。 

</blockquote>

<span id="more"></span>

<h2 id="C66x缓存结构："><a href="#C66x缓存结构：" class="headerlink" title="C66x缓存结构："></a>C66x缓存结构：</h2><p>以下以L1Dcache的实现结构<br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129152752357.png" width="70%" alt="按宽度比例缩放"></p>
<p>通过set确定所要数据所在的cacheline,通过对比tag是否一致&amp;检查有效位是否有效确定是否命中。<br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129152828894.png" width="70%" alt="按宽度比例缩放"></p>
<h2 id="C66x缓存访问流程："><a href="#C66x缓存访问流程：" class="headerlink" title="C66x缓存访问流程："></a>C66x缓存访问流程：</h2><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129152847235.png" width="70%" alt="按宽度比例缩放">


<h2 id="C66x缓存初始化："><a href="#C66x缓存初始化：" class="headerlink" title="C66x缓存初始化："></a>C66x缓存初始化：</h2><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038585.png" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038557.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038527.jpg" width="70%" alt="按宽度比例缩放">



<p>【注】：MSM片上共享内存空间只能是cacheable的且可预取的，用户不可配。<br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038493.jpg" width="70%" alt="按宽度比例缩放"><br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038459.png" width="70%" alt="按宽度比例缩放"><br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038430.jpg" width="70%" alt="按宽度比例缩放"><br><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038399.png" width="70%" alt="按宽度比例缩放"></p>
<h2 id="C66x缓存一致性软件维护："><a href="#C66x缓存一致性软件维护：" class="headerlink" title="C66x缓存一致性软件维护："></a>C66x缓存一致性软件维护：</h2><img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038371.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038642.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038612.jpg" width="70%" alt="按宽度比例缩放">

<hr>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>常用命令大全</title>
    <url>/2025/11/22/command/</url>
    <content><![CDATA[<blockquote class="blockquote-center">
工作中常用的命令备忘
</blockquote>

<span id="more"></span>

<h2 id="Git"><a href="#Git" class="headerlink" title=" Git"></a><i class="fab fa-github"></i> Git</h2><h3 id="⏩-本地改动-临时保存"><a href="#⏩-本地改动-临时保存" class="headerlink" title="⏩ 本地改动 临时保存"></a>⏩ 本地改动 临时保存</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">保存：git stash</span><br><span class="line">弹出：git stash pop</span><br></pre></td></tr></table></figure>
<h3 id="⏩-Commit-整体撤销"><a href="#⏩-Commit-整体撤销" class="headerlink" title="⏩ Commit 整体撤销"></a>⏩ Commit 整体撤销</h3><table>
<thead>
<tr>
<th align="left">描述</th>
<th align="left">命令 <span style="width: 200px; display: inline-block;"></span></th>
</tr>
</thead>
<tbody><tr>
<td align="left">撤销commit 不撤销add,不删除工作空间改动</td>
<td align="left"><code>git reset --soft HEAD^</code></td>
</tr>
<tr>
<td align="left">撤销commit 撤销add,  不删除工作空间改动</td>
<td align="left"><code>git reset --mixed HEAD^</code></td>
</tr>
<tr>
<td align="left">撤销commit 撤销add,  删除工作空间改动</td>
<td align="left"><code>git reset --hard HEAD^</code></td>
</tr>
</tbody></table>
<h3 id="⏩-Commit-撤销单独一个文件"><a href="#⏩-Commit-撤销单独一个文件" class="headerlink" title="⏩ Commit 撤销单独一个文件"></a>⏩ Commit 撤销单独一个文件</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git reset HEAD^ 文件名</span><br><span class="line">git checkout 文件名</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Shell"><a href="#Shell" class="headerlink" title=" Shell"></a><i class="fab fa-linux"></i> Shell</h2><h3 id="⏩-Commit-整体撤销-1"><a href="#⏩-Commit-整体撤销-1" class="headerlink" title="⏩ Commit 整体撤销"></a>⏩ Commit 整体撤销</h3><table>
<thead>
<tr>
<th align="left">描述</th>
<th align="left">命令 <span style="width: 200px; display: inline-block;"></span></th>
</tr>
</thead>
<tbody><tr>
<td align="left">查找文件</td>
<td align="left"><code>find . -name &quot;*.c&quot;</code></td>
</tr>
</tbody></table>
<h3 id="⏩-文件权限"><a href="#⏩-文件权限" class="headerlink" title="⏩ 文件权限"></a>⏩ 文件权限</h3><div class="note danger"><p>常用： <code>chmod 777 文件名</code></p>
</div>


<table>
<thead>
<tr>
<th align="left">数字权限</th>
<th align="left">字符权限（普通文件）</th>
<th align="left">字符权限（目录）</th>
<th align="left">场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">755</td>
<td align="left">-rwxr-xr–</td>
<td align="left">drwxr-xr-x</td>
<td align="left">公开可执行文件 &#x2F; 目录（如网站程序）</td>
</tr>
<tr>
<td align="left">644</td>
<td align="left">-rw-r–r–</td>
<td align="left">-（目录需 x 权限）</td>
<td align="left">公开可读文件（如文档、配置文件）</td>
</tr>
<tr>
<td align="left">700</td>
<td align="left">-rwx——</td>
<td align="left">drwx——</td>
<td align="left">私有文件 &#x2F; 目录（仅所有者可操作）</td>
</tr>
<tr>
<td align="left">777</td>
<td align="left">-rwxrwxrwx</td>
<td align="left">drwxrwxrwx</td>
<td align="left">完全开放（不推荐，安全风险）</td>
</tr>
</tbody></table>
<hr>
]]></content>
      <categories>
        <category>工作</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>常用工具网站</title>
    <url>/2025/11/15/useful-tool/</url>
    <content><![CDATA[<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251116143055713.jpg" width="70%" alt="按宽度比例缩放">

<blockquote class="blockquote-center">
一些工作中常用的网站链接，备忘（如果你有好用的工具或网站推荐，请留言分享）。
</blockquote>

<span id="more"></span>

<h2 id="✒️办公类"><a href="#✒️办公类" class="headerlink" title="✒️办公类"></a>✒️办公类</h2><table>
<thead>
<tr>
<th align="left">Item</th>
<th align="center"></th>
<th align="left">Link</th>
</tr>
</thead>
<tbody><tr>
<td align="left">画示意图</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i>  <a href="https://excalidraw.com/">excalidraw</a></td>
</tr>
<tr>
<td align="left">画思维导图</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i><a href="https://wanglin2.github.io/mind-map/#/">mind-map</a></td>
</tr>
<tr>
<td align="left">画UML图</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i><a href="https://www.plantuml.com/plantuml/uml/SyfFKj2rKt3CoKnELR1Io4ZDoSa700003">plantuml</a></td>
</tr>
<tr>
<td align="left">翻译</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i><a href="https://www.deepl.com/en/translator">deepL</a></td>
</tr>
<tr>
<td align="left">去水印</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i> <a href="https://magiceraser.org/zh/remove-watermark-from-image/">https://magiceraser.org/zh/remove-watermark-from-image/</a></td>
</tr>
<tr>
<td align="left">壁纸</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i> <a href="https://haowallpaper.com/homeViewLook/17673953739525504">https://haowallpaper.com/homeViewLook/17673953739525504</a></td>
</tr>
</tbody></table>
<h2 id="⚒️工具类"><a href="#⚒️工具类" class="headerlink" title="⚒️工具类"></a>⚒️工具类</h2><table>
<thead>
<tr>
<th align="left">Item</th>
<th align="center"></th>
<th align="left">Link</th>
</tr>
</thead>
<tbody><tr>
<td align="left">正则表达式</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i> <a href="https://regexr.com/">https://regexr.com/</a></td>
</tr>
</tbody></table>
<h2 id="📚学习类"><a href="#📚学习类" class="headerlink" title="📚学习类"></a>📚学习类</h2><table>
<thead>
<tr>
<th align="left">Item</th>
<th align="center"></th>
<th align="left">Link</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Markdown 语法</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i> <a href="https://www.imczw.com/post/tech/hexo-next-tags-markdown.html">https://www.imczw.com/post/tech/hexo-next-tags-markdown.html</a></td>
</tr>
<tr>
<td align="left">fontawesome 图标</td>
<td align="center">👉</td>
<td align="left"><i class="fas fa-link"></i><a href="https://fontawesome.com.cn/docs/v5/styles/list">fontawesome 使用</a>、<i class="fas fa-link"></i><a href="https://fontawesome.dashgame.com/">fontawesome 素材</a></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>工作</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>SPI</title>
    <url>/2025/12/01/SPI/</url>
    <content><![CDATA[<blockquote class="blockquote-center">
SPI
</blockquote>

<span id="more"></span>

<p>主机(Master)将要发送的数据写到发送数据缓存区(Menory)，缓存区经过移位寄存器(0<del>7)，串行移位寄存器通过MoSI信号线将字节一位一位的移出去传送给从机，，同时MISO接口接收到的数据经过移位寄存器一位一位的移到接收缓存区。<br> [图像]<br>从机(Slave)也将自己的串行移位寄存器(0</del>7)中的内容通过MISO信号线返回给主机。同时通过MOSI信号线接收主机发送的数据，这样，两个移位寄存器中的内容就被交换。<br> <br> [在这里插入图片描述]<br>每个时钟周期，主设备和从设备都会移位一位数据，形成同步交换。<br> <br>SPI只有主模式和从模式之分，没有读和写的说法，外设的写操作和读操作是同步完成的。如果只进行写操作，主机只需忽略接收到的字节；反之，若主机要读取从机的一个字节，就必须发送一个空字节来引发从机的传输。也就是说，你发一个数据必然会收到一个数据；你要收一个数据必须也要先发一个数据。<br> <br>那么如何判定当前收到的数据时有效数据呢？<br>主设备无法“自动”判断数据是否有效，必须依赖 协议约定（字节序、状态字节、延迟、校验）。这也是为什么 SPI 通信通常需要 严格遵循设备手册。<br> <br> <br>SPI 四种模式：<br>主从设备的在通信时 数据采样时刻 和触发时刻 应想匹配。但不同厂商的设备，使从设备的不一样，所以就需要用 不同的模式调整，使其两端匹配。<br> [在这里插入图片描述]<br> [图像]</p>
<hr>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2025/11/11/hello-world/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉，您输入的密码错误，请检查后重新输入。" data-whm="抱歉, 当前文章不能被校验, 不过您还是可以看看解密后的内容。">
  <script id="hbeData" type="hbeData" data-hmacdigest="b92bfee25d8a50b66f9c3781681b7fd7e426b0d631cb77c2c1da2ab12b6d9ee8">d57ba651e571aed89232e1c6212e32d6ff8e592e87c7cd24732f40ca8474bc77bf59a0a0832046625c2e51ff015d4b0b4943504e9b5e1876542f497d7aa2e9987491b60f57ba51e82a0ad8601708b2b1fc393adab32f80e7ad142ad05990285b7256d8f1f0f102c72179f0752c1bd1ac67478c9815478c15308a6e771cf435279727f43a0eb1baf72d451541786f1edb96590911b782f235148161b4fe01a60af9a0552982be65182e6628bbf9ad970547ecbdf8d1aa89b6cdb0e273592df3e8d76447c0ebb1c6aa7a25ad3421bceaca007e4eb73c31af133f1cf0dfd1f3a10de728dfb53cddfa06c01aee5075abd59cedebd980cfb625b86dbb94917f10da351e8f9587fe4760df930b8e6c40dabc762a009762d72ec59e7f1872edc9fcdfedb12083061a328e3ff9c3fca1c8245e1771dcc59ba45ea61444101532ad3cff881d6eb06412150cb6c6b392252db6e03cacb00a0dcc97b875268ecf96c1b5984a9949275ff1c99f3b7edc18d29777cf308ab1df20d52110db7c8491c52d5859a1e151e9929001aecfbe28209e85c75f17456363e312def77ca36f832f9bcb34398317cacf700c0bd39efa4000c6ed5c624303a5112a77885f407d6349b290bdda2fb2e845611afc40f5d2b45418af268b050d8f074de207dae7d0042385ec8f5f7549a5b3ce779ede3c6b967996911fa65760737c002c4c6d5e6f3f44c1ef1b1c8b13787d35d486588296fc0ecc872de2eb70c93ba6763d1ba9d0be55968910fefb9359c8b1a5e424a9990107dbf8458417eb60b0f21c50f67017220765c4743b0318783d3774e15391657dfbd660f324a9d143365c5848d56d7425a06d0f0ececaf506408baddf79658c749a1a75e6196037bb5bcdefadf3580e2e5e03d0dd498bbdbbb7ac616c39d97cb56988a74d04acf987df24f8837647fc565cabaab95a2bb5cbffc69ba4509ef4022f277a0d4782d271db1de37d6b4ba8efe70c9db9eb580f394c33014bc9e5079ae866f7a200459aa33df5b0685d3a35ca208be959db69ec2228c214e04a0a7a9ee91a83fc9aeac7b0b5a3e3b30b9a9b2ec068ba399a2588800ef7916ffbcf06740efddebc1635a22d11f5fbc1e66fac3274b3e0c6709eec6e1c143ce8ade85ec41b97a866d4aafaa43398e8fab5bf8205ae769b3e477f4d8efb8fef192b5e2f47eb6281d896b82c8da324d966ac4fe3e75897e6fcb16f817a2e271861568dcc9ff22642dc3960e3b9c6d61bc6767faf17860b99a35118a39e6020348f198b17f32ffda9349e3aa1be1b35ed1766bffd48de4eba02f0b7d223481e62dd2d2ac7ed2ca1e52082c556826133a297f6b576e793fc4d27f90f3129a5fb752da5665df3d53a607b927f760a592e50ff49541fe6a4d3e104f8c0e42ee1779d67d97866b2be7fb594c89b47f67a42c5702b2ca1026d828abcdc37b452d957761f22f26ce9a5f4d50b6fcdaabca4ea59dbf3b49d01d2164668758a2045f6d33209fd093fffbbe8a9f6d5862459f83a8537a2f2fe007b681d729df7958b1d7a53fbee316fc8b567caf9bc08884b563c5c342e28193e483f20110f69426296519cdc14dd4fc3911f1a5e5e41c33693e2b9d146f702e555d0b04c0dcc8af87d2f6b56f3535a43aaca0ca5744445e158a9b64e7129c6ba61bef7f1514b01874fb7f76d29a21c2af53156893c7616220fb7fc3fdcfb35a6ff22240f22c065366d25dc28b18cec63154ab315ab6b7a78e032ac1dc2ec59d6ec18b4ed69b8688bc5ee80d076ec21aafb2d1a94aac31d95187b33ecded8bccac935ee8d9dda274fa2a6d175df87816c49822f60316116707311a3bd2cb09ae4e6437ab4cfd86cf15e1ae0c31c9e35c422e99fdaceeed808e066bcfc8bd4f934d814ddc6963d1de5d74ff8b78b7d20c7e1d31bd3ea93c637fc5989ad0fefb8afb23b11cde5e924c708f846ef9afdd411f9b5342f334f2c1205877668413496b4290219145228648e4851759afcb3c0106c0614b893c2f26a7d4b9e7360f856e774ecb3344ab1023015981c9f5c6144ed80af8eb8f65dca52aae8335a973cf311a8d992b48d7c7afc5c074c8a949bb7b9e2909a95303a0f5bbcaec28668d44e5cc48c793f66723d6c9216f86470bcb424a0aecae4df9852ff3e3d981bb339526f7c91d50d5d92f4028b338bec1ed2a94cab4fcade14d2f14b3719be0618164013fffddc2b0a972087074fc4b44da61fedbab8d014e4091051f197aa07b8a79e82b6a589078148abe108859fbe2d86ac59d35b2e5dd567ca3e4e9a5d5f1387551b585114998ecc3395feac6a2591d746ea721fbbb5e06dc8cc80a0daf7fa60837ac003bf8012fd8c62e7af44fab3d1256c4562e685910507b987dac92508483fccea6c7596906d32dd0d308ea34b9f645b94bcbbcd11b5c6bf3a01ee35220771fa560e3d95b14fc8325fa8244930c07c722df5b984b269b09bf8046fec980ab601335457a67aaa3c3dfb15ec731aa1146d48da1031e2ee80061c4612b3cf2436ae36aaf8fb6807cd288fe1a7007942ed0a7190a054febd62ae139cad8957e8f7259f736bc0327bf02867709272883789e984c05c2b51518dcc8ea1fc9d5288ff126e686d3dca0edb6ff9527e6e198764978379b59464bd7c21460cd098c8c89b052c0dd4519a5852e9e62c76fc10c9d0ce016717153b39ee6bf791d6b876a90baa67aa292737454e91ee4a6b0e5bf62a8a4b7c86dd1ba611a56725247d6bc33bcce995a524f09fd5e0cbfbe74fb59cd2a357fb2f80c5656f7b97607a2908f462b38053ce79d871d6a72bd478b23e06ddcd35c60280db0e40ee01c62faa5d690a759ed4e18934eca409179b92f58ac4f7fb9d608a180f6f7d9ac968a6668848a051a9bb821d4468a90f46f961f111666519026ad94510fbf69df26194ed217f3a3b378ef2b4942aa84c02e8d4c38364281de4065fa09eee147ea892030142dd1beae5c822413eb4a063e5f5fba1f9c5e1a88e2267ce21a2e7664dd3ba90cebbec75e5b2f5a08569c14c0d7a7dad9ce955b0efce7c252ae8a2ddda9e517a44a7a69be0579bbcc8b668de8dadee230e9395a4971e06bc0ea4d3a55237d5df4e2e4beb7d27726433ae770268a12273ac22e977cb4fc4471f7ec3e60911ba45773bc80933a8c85c4d2c9ea5f1253fc76edf9c2ee12fc7c873</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">⛔请输入密码后查看</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>成长</category>
      </categories>
      <tags>
        <tag>private</tag>
      </tags>
  </entry>
</search>
