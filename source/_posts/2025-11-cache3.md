---
title: Cache（三）多核处理器TMS320C6678的缓存方法
tags:
  - 笔记
categories:
  - 技术
date: 2025-11-29 14:51:20
---
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129163708522.jpg" width="30%" alt="按宽度比例缩放">

<blockquote class="blockquote-center">
基于 TI 多核DSP C6678 在数字信号处理中的cache 一致性维护实战。 

</blockquote>

<!-- more -->

## C66x缓存结构：

以下以L1Dcache的实现结构
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129152752357.png" width="70%" alt="按宽度比例缩放">

通过set确定所要数据所在的cacheline,通过对比tag是否一致&检查有效位是否有效确定是否命中。
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129152828894.png" width="70%" alt="按宽度比例缩放">

## C66x缓存访问流程：
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129152847235.png" width="70%" alt="按宽度比例缩放">


## C66x缓存初始化：
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038585.png" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038557.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038527.jpg" width="70%" alt="按宽度比例缩放">



【注】：MSM片上共享内存空间只能是cacheable的且可预取的，用户不可配。
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038493.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038459.png" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038430.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038399.png" width="70%" alt="按宽度比例缩放">




## C66x缓存一致性软件维护：
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038371.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038642.jpg" width="70%" alt="按宽度比例缩放">
<img class="img-center" align="center" src="https://leo-2019-blog-1259040785.cos.ap-beijing.myqcloud.com/Image/20251129153038612.jpg" width="70%" alt="按宽度比例缩放">

---
